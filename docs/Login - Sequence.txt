title Login

participant RN app
participant loggable-api
database postgres

RN app->loggable-api: /login {email, password, level?, logPoints?}
activate RN app
activate loggable-api
alt #red email invalid | missing
loggable-api-->RN app: 400
end
loggable-api->postgres: find user
activate postgres
alt #red user doesnt exists | password invalid
postgres-->loggable-api: error
loggable-api-->RN app: 400
end
alt level in request > level in db
loggable-api->postgres: update level
end
postgres-->loggable-api:user
deactivate postgres
loggable-api-->RN app: 200 { token, userData }
deactivate loggable-api
RN app->RN app: store token and userData
deactivate RN app